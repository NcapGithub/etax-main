(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{355:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var script={name:"VueLoading",data:()=>({isLoading:!1,options:{bg:"#41b883ad",icon:"fas fa-spinner",size:"3",icon_color:"#ffffff",slot:null}}),methods:{changeStatus(t){this.isLoading=t},changeIsLoadingOptions(t){Object.keys(this.options).forEach((e=>{t[e]&&(this.options[e]=t[e])}))}}};function o(template,style,script,t,e,n,o,r,c,l){"boolean"!=typeof o&&(c=r,r=o,o=!1);const d="function"==typeof script?script.options:script;let m;if(template&&template.render&&(d.render=template.render,d.staticRenderFns=template.staticRenderFns,d._compiled=!0,e&&(d.functional=!0)),t&&(d._scopeId=t),n?(m=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),style&&style.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(n)},d._ssrRegister=m):style&&(m=o?function(t){style.call(this,l(t,this.$root.$options.shadowRoot))}:function(t){style.call(this,r(t))}),m)if(d.functional){const t=d.render;d.render=function(e,n){return m.call(n),t(e,n)}}else{const t=d.beforeCreate;d.beforeCreate=t?[].concat(t,m):[m]}return script}const r="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function c(t){return(t,style)=>function(t,e){const n=r?e.media||"default":t,style=d[n]||(d[n]={ids:new Set,styles:[]});if(!style.ids.has(t)){style.ids.add(t);let code=e.source;if(e.map&&(code+="\n/*# sourceURL="+e.map.sources[0]+" */",code+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),style.element||(style.element=document.createElement("style"),style.element.type="text/css",e.media&&style.element.setAttribute("media",e.media),void 0===l&&(l=document.head||document.getElementsByTagName("head")[0]),l.appendChild(style.element)),"styleSheet"in style.element)style.styles.push(code),style.element.styleSheet.cssText=style.styles.filter(Boolean).join("\n");else{const t=style.ids.size-1,e=document.createTextNode(code),n=style.element.childNodes;n[t]&&style.element.removeChild(n[t]),n.length?style.element.insertBefore(e,n[t]):style.element.appendChild(e)}}}(t,style)}let l;const d={};var m=o({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],staticClass:"loading",style:"background-color: "+t.options.bg+";"},[t.options.slot?[n("div",{domProps:{innerHTML:t._s(t.options.slot)}})]:[n("i",{staticClass:"fa-spin",class:t.options.icon+" fa-"+t.options.size+"x",style:"color: "+t.options.icon_color}),t._v(" "),n("span",{staticClass:"sr-only"},[t._v("Loading...")])]],2)},staticRenderFns:[]},(function(t){t&&t("data-v-4a0f5a62_0",{source:".loading[data-v-4a0f5a62]{position:fixed;left:0;top:0;right:0;bottom:0;height:100vh;z-index:99999!important;width:100%;display:flex;align-items:center;justify-content:center}.loading i[data-v-4a0f5a62]{position:absolute;opacity:1}",map:void 0,media:void 0})}),script,"data-v-4a0f5a62",false,undefined,!1,c,void 0,void 0),f={install(t,e){const n=t.extend(m);t.prototype.$isLoading=t=>{o.changeStatus(t)},t.prototype.$changeIsLoadingOptions=t=>{o.changeIsLoadingOptions(t)};const o=new n({data:()=>({isLoading:!1})}).$mount();document.body.appendChild(o.$el),e&&Object.keys(e).forEach((t=>{e[t]&&(o.options[t]=e[t])}))}}},357:function(t,e,n){t.exports=n.p+"img/otp-img.e57f4e8.png"},369:function(t,e,n){"use strict";n.r(e);var o=n(26),r=(n(66),n(42),n(9)),c=n(355);r.default.use(c.a,{bg:"rgb(255 255 255 / 60%)"});var l={data:function(){return{referenceOtp:"",baseURlUAT:"https://uat-apirpt.nextcapital.co.th/APIOTP/",phoneNumber:"",countTime:4,countDownTime:"",countDown:59,otpNumberInput:"",otp1:"",otp2:"",otp3:"",otp4:"",otp5:"",otp6:"",validOtp:!1,isLoading:!1,fullPage:!0,model:{}}},components:{},mounted:function(){this.model=JSON.parse(localStorage.getItem("customerInfoModel")),this.phoneNumber="0909499157",this.postOtp(this)},watch:{},methods:{doAjax:function(){setTimeout((function(){}),5e3)},nextField:function(t,e){void 0!==t.key&&"Backspace"!==t.key&&(this.validOtp=!1,document.getElementById(e).focus())},summitOtp:function(){this.otpNumberInput=this.otp1+this.otp2+this.otp3+this.otp4+this.otp5+this.otp6,6==this.otpNumberInput.length?this.verifyOTP():this.validOtp=!0},countDownTimer:function(){var t=this;this.countDown>0&&setTimeout((function(){t.countDown-=1,0==t.countDown&&t.countTime>0&&(t.countTime-=1,t.countDown+=59),t.countDownTimer()}),1e3)},sendOTP:function(){this.postOtp(this)},verifyOTP:function(){this.postVerifyOtp(this)},postOtp:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,r,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=t.$axios,e.$isLoading(!0),r={phoneNumber:e.phoneNumber,message:"รหัส OTP คือ {0} (Ref:{1}) สำหรับลงทะเบียนรับ ใบแจ้งหนี้/ใบเสร็จ/ใบกำกับภาษีอิเล็กทรอนิคส์ หมดอายุใน 5 นาที"},c={CORRELATION_ID:"88e3f210-9063-4fe1-8fe3-037b830d5a95"},n.next=6,o.$post(e.baseURlUAT+"api/SMS/SendOTP",r,{headers:c}).then((function(t){e.referenceOtp=t.OTPRefNo,e.$isLoading(!1)})).catch((function(t){console.log(t)}));case 6:case"end":return n.stop()}}),n)})))()},postVerifyOtp:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,r,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=t.$axios,r={phoneNumber:e.phoneNumber,otpRefNo:e.referenceOtp,otpNumber:e.otpNumberInput},c={CORRELATION_ID:"88e3f210-9063-4fe1-8fe3-037b830d5a95"},n.next=5,o.$post(e.baseURlUAT+"api/SMS/VerifyOTP",r,{headers:c}).then((function(t){console.log("verify otp message",t.message),"success"==t.message&&(window.location="./success")})).catch((function(t){console.log(t)}));case 5:case"end":return n.stop()}}),n)})))()}},created:function(){this.countDownTimer()}},d=n(38),component=Object(d.a)(l,(function(){var t=this,e=t._self._c;return e("html",{attrs:{lang:"en"}},[t._m(0),t._v(" "),e("body",[t._m(1),t._v(" "),e("div",{staticClass:"card-top mt-4 text-center",staticStyle:{"padding-top":"60px"}},[e("img",{staticStyle:{"max-width":"320px"},attrs:{src:n(357)}}),t._v(" "),e("h1",{staticClass:"xl-font-size text-dark-grey mt-5 mb-3"},[t._v("\r\n            ระบบได้ทำการส่งรหัส OTP"),e("br"),t._v("\r\n            ไปยังเบอร์โทรศัพท์ของท่าน "),e("span",{staticClass:"text-blue"},[t._v(t._s(t.phoneNumber))])]),t._v(" "),e("p",{staticClass:"xl-font-size text-red"},[t._v("หมายเลขนี้จะเป็นหมายเลขที่ใช้จัดส่งใบแจ้งหนี้/ใบเสร็จ/ใบกำกับภาษี")]),t._v(" "),e("a",{staticClass:"text-blue text-decoration-underline",attrs:{href:"#"}},[t._v("ต้องการ เปลี่ยนเบอร์โทรศัพท์ ติดต่อลูกค้าสัมพันธ์ 02 342 9699")]),t._v(" "),e("br"),e("br"),t._v(" "),e("span",{staticClass:"text-grey mt-3",staticStyle:{"margin-right":"30px"}},[t._v("Ref: "),e("span",{attrs:{id:"refCode"}},[t._v(t._s(t.referenceOtp))])]),t._v(" "),e("span",{staticClass:"text-grey mt-3"},[t._v("อายุรหัส "),e("span",{attrs:{id:"otpCountdown"}},[e("span",[t._v(" "+t._s(t.countTime)+":")]),t._v(t._s(t.countDown))]),t._v(" นาที")]),t._v(" "),e("div",{staticClass:"d-flex justify-content-center mb-3",attrs:{id:"otp"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.otp1,expression:"otp1"}],staticClass:"text-center xl-font-size",attrs:{type:"text",id:"input1",maxlength:"1"},domProps:{value:t.otp1},on:{keyup:function(e){return t.nextField(e,"input2")},input:function(e){e.target.composing||(t.otp1=e.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.otp2,expression:"otp2"}],staticClass:"text-center xl-font-size",attrs:{type:"text",id:"input2",maxlength:"1"},domProps:{value:t.otp2},on:{keyup:function(e){return t.nextField(e,"input3")},input:function(e){e.target.composing||(t.otp2=e.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.otp3,expression:"otp3"}],staticClass:"text-center xl-font-size",attrs:{type:"text",id:"input3",maxlength:"1"},domProps:{value:t.otp3},on:{keyup:function(e){return t.nextField(e,"input4")},input:function(e){e.target.composing||(t.otp3=e.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.otp4,expression:"otp4"}],staticClass:"text-center xl-font-size",attrs:{type:"text",id:"input4",maxlength:"1"},domProps:{value:t.otp4},on:{keyup:function(e){return t.nextField(e,"input5")},input:function(e){e.target.composing||(t.otp4=e.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.otp5,expression:"otp5"}],staticClass:"text-center xl-font-size",attrs:{type:"text",id:"input5",maxlength:"1"},domProps:{value:t.otp5},on:{keyup:function(e){return t.nextField(e,"input6")},input:function(e){e.target.composing||(t.otp5=e.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.otp6,expression:"otp6"}],staticClass:"text-center xl-font-size",attrs:{type:"text",id:"input6",maxlength:"1"},domProps:{value:t.otp6},on:{input:function(e){e.target.composing||(t.otp6=e.target.value)}}})]),t._v(" "),t._m(2),t._v(" "),e("div",{staticClass:"text-center",staticStyle:{"margin-top":"83px"}},[t.validOtp?e("p",{staticClass:"text-red",attrs:{id:"validOtp"}},[t._v("รหัส OTP ไม่ถูกต้อง")]):t._e(),t._v(" "),e("button",{staticClass:"btn text-white mx-auto mb-5",attrs:{type:"button",id:"confirmBtn"},on:{click:function(e){return t.summitOtp()}}},[t._v("\r\n                ยืนยัน\r\n            ")])])])])])}),[function(){var t=this,e=t._self._c;return e("head",[e("meta",{attrs:{charset:"UTF-8"}}),t._v(" "),e("meta",{attrs:{"http-equiv":"X-UA-Compatible",content:"IE=edge"}}),t._v(" "),e("meta",{attrs:{name:"viewport",content:"width=device-width, initial-scale=1.0"}}),t._v(" "),e("title",[t._v("ระบบได้ทำการส่งรหัส OTP ไปยังเบอร์โทรศัพท์ของท่าน")]),t._v(" "),e("link",{attrs:{href:"../assets/css/bootstrap.min.css",rel:"stylesheet"}}),t._v(" "),e("link",{attrs:{href:"../assets/css/styles.min.css",rel:"stylesheet"}})])},function(){var t=this,e=t._self._c;return e("header",{staticClass:"p-2 bg-blue"},[e("h1",{staticClass:"text-white text-center m-0"},[t._v("\r\n            ลงทะเบียนรับ"),e("br"),t._v(" "),e("small",{staticClass:"md-font-size"},[t._v("ใบแจ้งหนี้/ใบเสร็จ/ใบกำกับภาษีอิเล็กทรอนิคส์")])])])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"lg-font-size text-dark-grey"},[t._v("\r\n            ไม่ได้รับรหัส OTP "),e("a",{staticClass:"text-blue text-decoration-underline",attrs:{href:"",id:"reSendBtn"}},[t._v("ส่งใหม่อีกครั้ง")])])}],!1,null,null,null);e.default=component.exports}}]);